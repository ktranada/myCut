<div class="container-fluid session-page">
  <div class="row">
    <div class="session-container col-md-3 col-md-offset-4">
      <form action="/session" method="post" >
        <%= render 'shared/errors' %>
        <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
          <div class="form-container">
            <div class="form-group">
                <label for="inputEmail3"><h4><em>EMAIL</em></h4></label>
                <input type="email" class="form-control" name="user[email]" id="inputEmail3" tabindex="1">
            </div>
            <div class="form-group session-password-container">
              <label for="inputPassword3"><h4><em>PASSWORD</em></h4></label>
              <input type="password" class="form-control" name="user[password]" id="inputPassword3" tabindex="2" required="">
            </div>
            <br>
            <div class="session-buttons last">
              <span class="guest-login">Guest Login</span><br> <br>
              <button type="submit" class="btn btn-sm btn-default enter-button">Sign in</button>
              <button type="reset" class="btn btn-default btn-sm">Reset</button>
            </div>
          </div>
      </form>
      <br>
      <div class="session-register">Not Registered? <%= link_to "Sign up here", new_user_url%></div>
    </div>
  </div>

</div>

<% emails = %w(guest@gmail.com kevin@gmail.com danny@gmail.com vicky@gmail.com lana@gmail.com) %>


<script>
   $('.guest-login').click(function(){
     $("input[name='user[email]']").val('');
     $("input[name='user[password]']").val('');
     autoTyper('<%= emails.sample %>', $("input[name='user[email]']"), function(){
       autoTyper('password', $("input[name='user[password]']"), function(){
         $('.enter-button').click();
       });
     });
   });
   var autoTyper = function(word, $el, callback){
     var typer = setInterval(function(){
       $el.val($el.val() + word.slice(0,1));
       word = word.substr(1);
       if(word.length === 0){
         clearInterval(typer);
         callback();
       }
     }, 50);
   }
</script>
