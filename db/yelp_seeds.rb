def yelp_seed
  JSON.parse(<<-STRING)
  {
    "businesses": [
       {
           "is_claimed": true,
           "rating": 5.0,
           "mobile_url": "http://m.yelp.com/biz/patrick-evan-hair-salon-san-francisco-2",
           "rating_img_url": "http://s3-media1.fl.yelpcdn.com/assets/2/www/img/f1def11e4e79/ico/stars/v1/stars_5.png",
           "review_count": 502,
           "name": "PATRICK EVAN Hair Salon",
           "rating_img_url_small": "http://s3-media1.fl.yelpcdn.com/assets/2/www/img/c7623205d5cd/ico/stars/v1/stars_small_5.png",
           "url": "http://www.yelp.com/biz/patrick-evan-hair-salon-san-francisco-2",
           "is_closed": false,
           "id": "patrick-evan-hair-salon-san-francisco-2",
           "phone": 4154211111,
           "snippet_text": "Since living in SF for the past 8 months, I still had yet to find a hair stylist that really does a great job in the city. I found Patrick Evan Salon on...",
           "image_url": "http://s3-media4.fl.yelpcdn.com/bphoto/rq3KWK5doz7Yltts1O2RnQ/ms.jpg",
           "categories": [
               [
                   "Hair Stylists",
                   "hairstylists"
               ],
               [
                   "Blow Dry/Out Services",
                   "blowoutservices"
               ],
               [
                   "Hair Extensions",
                   "hair_extensions"
               ]
           ],
           "display_phone": "+1-415-421-1111",
           "rating_img_url_large": "http://s3-media3.fl.yelpcdn.com/assets/2/www/img/22affc4e6c38/ico/stars/v1/stars_large_5.png",
           "menu_provider": "single_platform",
           "menu_date_updated": 1418739516,
           "snippet_image_url": "http://s3-media4.fl.yelpcdn.com/photo/f55e1ob2oIiKHWLHSeN-sQ/ms.jpg",
           "location": {
               "cross_streets": "Ofarrell St & Market St",
               "city": "San Francisco",
               "display_address": [
                   "55 Grant Ave",
                   "4th Fl",
                   "Union Square",
                   "San Francisco, CA 94108"
               ],
               "geo_accuracy": 9.5,
               "neighborhoods": [
                   "Union Square",
                   "Financial District"
               ],
               "postal_code": "94108",
               "country_code": "US",
               "address": [
                   "55 Grant Ave",
                   "4th Fl"
               ],
               "coordinate": {
                   "latitude": 37.7874891,
                   "longitude": -122.4051181
               },
               "state_code": "CA"
           }
       },
       {
           "is_claimed": true,
           "rating": 4.5,
           "mobile_url": "http://m.yelp.com/biz/follicle-hair-salon-san-francisco-3",
           "rating_img_url": "http://s3-media2.fl.yelpcdn.com/assets/2/www/img/99493c12711e/ico/stars/v1/stars_4_half.png",
           "review_count": 143,
           "name": "Follicle Hair Salon",
           "rating_img_url_small": "http://s3-media2.fl.yelpcdn.com/assets/2/www/img/a5221e66bc70/ico/stars/v1/stars_small_4_half.png",
           "url": "http://www.yelp.com/biz/follicle-hair-salon-san-francisco-3",
           "is_closed": false,
           "phone": 4154025277,
           "snippet_text": "3 things that i LOVE:\n\n1. An AMAZING discount on the Keratin Treatment right now.\n2. Really good knowledge of hair, products, and practices. Right down to...",
           "image_url": "http://s3-media1.fl.yelpcdn.com/bphoto/wFJAKqVmOUrAa1MrfdPbFw/ms.jpg",
           "categories": [
               [
                   "Hair Extensions",
                   "hair_extensions"
               ]
           ],
           "display_phone": "+1-415-402-5277",
           "rating_img_url_large": "http://s3-media4.fl.yelpcdn.com/assets/2/www/img/9f83790ff7f6/ico/stars/v1/stars_large_4_half.png",
           "id": "follicle-hair-salon-san-francisco-3",
           "snippet_image_url": "http://s3-media1.fl.yelpcdn.com/photo/BPupbzFhRuVHWxksOjBYTQ/ms.jpg",
           "location": {
               "cross_streets": "Mason St & Powell St",
               "city": "San Francisco",
               "display_address": [
                   "540 Sutter St",
                   "Union Square",
                   "San Francisco, CA 94102"
               ],
               "geo_accuracy": 9.5,
               "neighborhoods": [
                   "Union Square"
               ],
               "postal_code": "94102",
               "country_code": "US",
               "address": [
                   "540 Sutter St"
               ],
               "coordinate": {
                   "latitude": 37.7890055687707,
                   "longitude": -122.409474849701
               },
               "state_code": "CA"
           }
       },
       {
           "is_claimed": true,
           "rating": 5.0,
           "mobile_url": "http://m.yelp.com/biz/josephalex-salon-san-francisco-2",
           "rating_img_url": "http://s3-media1.fl.yelpcdn.com/assets/2/www/img/f1def11e4e79/ico/stars/v1/stars_5.png",
           "review_count": 31,
           "name": "JosephAlex Salon",
           "rating_img_url_small": "http://s3-media1.fl.yelpcdn.com/assets/2/www/img/c7623205d5cd/ico/stars/v1/stars_small_5.png",
           "url": "http://www.yelp.com/biz/josephalex-salon-san-francisco-2",
           "is_closed": false,
           "phone": 5107179886,
           "snippet_text": "Joseph was awesome to work with- very friendly and accommodating and he really had my (and my hair's) best interest in mind. He even came in on a Sunday...",
           "image_url": "http://s3-media3.fl.yelpcdn.com/bphoto/UBZiXML8Kkv3gkeVxhppxg/ms.jpg",
           "categories": [
               [
                   "Hair Stylists",
                   "hairstylists"
               ],
               [
                   "Hair Extensions",
                   "hair_extensions"
               ]
           ],
           "display_phone": "+1-510-717-9886",
           "rating_img_url_large": "http://s3-media3.fl.yelpcdn.com/assets/2/www/img/22affc4e6c38/ico/stars/v1/stars_large_5.png",
           "id": "josephalex-salon-san-francisco-2",
           "snippet_image_url": "http://s3-media1.fl.yelpcdn.com/photo/fJ4Sazc9Gs-xEwxs0f4NwA/ms.jpg",
           "location": {
               "cross_streets": "New Montgomery St & Montgomery St",
               "city": "San Francisco",
               "display_address": [
                   "660 Market St",
                   "2nd Fl",
                   "Financial District",
                   "San Francisco, CA 94104"
               ],
               "geo_accuracy": 9.5,
               "neighborhoods": [
                   "Financial District"
               ],
               "postal_code": "94104",
               "country_code": "US",
               "address": [
                   "660 Market St",
                   "2nd Fl"
               ],
               "coordinate": {
                   "latitude": 37.788476,
                   "longitude": -122.402947
               },
               "state_code": "CA"
           }
       }
     ]
   }

  STRING
end


def parse_yelp
  results = yelp_seed['businesses']
  output = []
  results.each do |result|
    params = Hash.new
    params['moderator_id'] = 1
    params['name'] = result['name']
    params['address'] = result['location']['address']
    params['city'] = result['location']['city']
    params['state'] = result['location']['state_code']
    params['zip'] = result['location']['postal_code']
    params['phone'] = result['phone']
    params['photo_url'] = result['image_url'].gsub(/\/ms.jpg/,'/o.jpg')
    output.push(params)
  end
  output
end
